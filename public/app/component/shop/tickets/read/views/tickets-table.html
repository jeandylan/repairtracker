
<div ng-controller="readTicketsCtrl">
    <table st-table="displayedCollection"  st-safe-src="rowCollection" class="table table-striped"> <!----remember display and st-dafe when updating ---->
        <thead>
        <tr>
            <th st-sort="make">make</th>
            <th st-sort="model" >model</th>
            <th st-sort="problem_type" >problem_type</th>
            <th st-sort="problem_definition" >problem_definition</th>
             <th st-sort="status" >status</th>
            <th st-sort="estimated_completion_date">expected completion date</th>


        </tr>
        <tr>
            <th>
                <input st-search="make" placeholder="search for make" class="input-sm form-control" type="search"/>
            </th>

            <th>
                <input st-search="model" placeholder="search for model" class="input-sm form-control" type="search"/>
            </th>
            <th>
                <input st-search="problem_type" placeholder="search for problem type " type="search"/>
            </th>
            <th>
                <input st-search="ticket_problem" placeholder="search for ticket problem" class="input-sm form-control" type="search"/>
            </th>
            <th></th>
            <th></th>

        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="row in displayedCollection">
            <td >{{row.make}}</td>
            <td >{{row.model}}</td>
            <td>{{row.problem_type}}</td>
            <td>{{row.problem_definition}}</td>
            <td>{{row.status}}</td>
            <td ng-class="{'danger': (row.status !='close') && (row.estimated_completion_date > today )}">{{row.estimated_completion_date}}</td>
            <td>
                <a ui-sref="app.ticket.update({ticketId:row.id})" class="btn btn-sm btn-warning"  >
                    <i class="glyphicon glyphicon-edit">edit</i>
                </a>
                </td>
            <td>
                <button type="button" class="btn btn-sm btn-danger"  confirm-button="deleteBtn(row.id)" message="Are you sure you want to remove this ?">
                    <i class="glyphicon  glyphicon-remove-circle">delete</i>
                </button>
            </td>




        </tr>
        </tbody>
    </table>

</div>
